<uib-accordion ng-repeat="contract in tableData">
    <uib-accordion-group heading="{{contract.name}} - {{contract.code}}"
                         ng-click="showContractInformation(contract)"
                         panel-class="bootstrap-panel accordion-panel panel-default">
        <table class="table table-bordered table-hover table-condensed" style="table-layout: fixed">
            <thead>
                <tr>
                    <th style="vertical-align: inherit; text-align: center; width: 50px" class="head_blue">序號</th>
                    <th style="vertical-align: inherit; text-align: center; width: 150px" class="head_blue">契約編號</th>
                    <th style="vertical-align: inherit; text-align: center; width: 150px" class="head_blue" >契約名稱</th>

                    <th style="vertical-align: inherit; text-align: center; width: 150px" class="head_blue" ng-if="isDepG">契約金額</th><!--管理部人員-->
                    <th style="vertical-align: inherit; text-align: center; width: 150px" class="head_blue" ng-if="isDepG">擴充金額</th><!--管理部人員-->

                    <th style="vertical-align: inherit; text-align: center; width: 150px" class="head_blue">契約工程數量</th>
                    <th style="vertical-align: inherit; text-align: center; width: 150px" class="head_blue">已執行金額</th>

                    <th style="vertical-align: inherit; text-align: center; width: 150px" class="head_blue" ng-if="isDepG">服務費率</th><!--管理部人員-->
                    <th style="vertical-align: inherit; text-align: center; width: 150px" class="head_blue" ng-if="isDepG">評選日期</th><!--管理部人員-->
                    <th style="vertical-align: inherit; text-align: center; width: 150px" class="head_blue" ng-if="isDepG">決標日期</th><!--管理部人員-->
                    <th style="vertical-align: inherit; text-align: center; width: 150px" class="head_blue" ng-if="isDepG">議價日期</th><!--管理部人員-->
                    <th style="vertical-align: inherit; text-align: center; width: 150px" class="head_blue" ng-if="isDepG">訂約日期</th><!--管理部人員-->
                    <th style="vertical-align: inherit; text-align: center; width: 150px" class="head_blue" ng-if="isDepG">履約期限</th><!--管理部人員-->
                    <th style="vertical-align: inherit; text-align: center; width: 150px" class="head_blue" ng-if="isDepG">保險期限</th><!--管理部人員-->
                    <th style="vertical-align: inherit; text-align: center; width: 150px" class="head_blue" ng-if="isDepG">機關承辦</th><!--管理部人員-->
                    <th style="vertical-align: inherit; text-align: center; width: 150px" class="head_blue" ng-if="isDepG">結案</th><!--管理部人員-->

                    <th style="vertical-align: inherit; text-align: center; width: 150px" class="head_blue">更新狀態</th>

                </tr>
            </thead>

            <!--<tbody ng-repeat="item in fetchFormDataFromScope(table)">-->
            <tbody >
                <tr style="vertical-align: inherit; text-align: center;">
                    <td style="vertical-align: inherit; text-align: center;" >
                        <span >{{$index + 1}}</span>
                        <!--<span style="display: none;" id="prjDID">{{item.prjDID}}</span>-->
                    </td><!--序號-->
                    <td style="vertical-align: inherit; text-align: center;" ><span >{{contract.code}}</span></td><!--契約編號-->
                    <td style="vertical-align: inherit; text-align: center;" ><span >{{contract.name}}</span></td><!--契約名稱-->

                    <td style="vertical-align: inherit; text-align: center;" ng-if="isDepG">
                        <!--<input type="text" ng-model="contract.mount"/>-->
                        <input type="text"
                               ng-model="contract.mount"
                               placeholder="0"
                               style="text-align: right"
                               class="form-control input-sm"
                               value="">
                    </td><!--契約金額-->
                    <td style="vertical-align: inherit; text-align: center;" ng-if="isDepG">
                        <!--<input type="text" ng-model="contract.ext_mount"/>-->
                        <input type="text"
                               ng-model="contract.ext_mount"
                               placeholder="0"
                               style="text-align: right"
                               class="form-control input-sm"
                               value="">
                    </td><!--擴充金額-->

                    <td style="vertical-align: inherit; text-align: center;" ><span >{{contract.caseOptions.length}}</span></td><!--契約工程數量-->
                    <td style="vertical-align: inherit; text-align: center;" ><span >[自動統計]</span></td><!--已執行金額-->

                    <td style="vertical-align: inherit; text-align: center;" ng-if="isDepG">百分比</td><!--服務費率-->
                    <td style="vertical-align: inherit; text-align: center;" ng-if="isDepG">日期</td><!--評選日期-->
                    <td style="vertical-align: inherit; text-align: center;" ng-if="isDepG">日期</td><!--決標日期-->
                    <td style="vertical-align: inherit; text-align: center;" ng-if="isDepG">日期</td><!--議價日期-->
                    <td style="vertical-align: inherit; text-align: center;" ng-if="isDepG">日期</td><!--訂約日期-->
                    <td style="vertical-align: inherit; text-align: center;" ng-if="isDepG">到期日</td><!--履約期限-->
                    <td style="vertical-align: inherit; text-align: center;" ng-if="isDepG">到期日</td><!--保險期限-->
                    <td style="vertical-align: inherit; text-align: center;" ng-if="isDepG">文字</td><!--機關承辦-->
                    <td style="vertical-align: inherit; text-align: center;" ng-if="isDepG">
                        <div style="margin-top: 15px">
                            <ba-switcher style="horiz-align: center; vertical-align: center"
                                         ng-click="changeContractStatus(contract)"
                                         ng-model="contract.enable"
                                         switcher-style="primary"
                                         switcher-value="contract.enable"/>
                        </div>

                    </td><!--結案-->

                    <td style="vertical-align: inherit; text-align: center;" ><span >{{contract.userUpdateTs}}</span></td><!--更新日期-->
                </tr>
            </tbody>

            <tbody id="tableItemBody_{{$index}}"
                   ng-repeat="memo in contract.contractMemo">
                    <tr style="vertical-align: inherit; text-align: center;">
                        <td> ( {{$index + 1}} ) </td>
                        <td colspan="6"></td>
                        <td>
                            <input type="text"
                                   ng-model="memo.field_1"
                                   placeholder="0"
                                   style="text-align: right"
                                   class="form-control input-sm"
                                   value="">
                        </td>
                        <td>
                            <input type="text"
                                   ng-model="memo.field_2"
                                   placeholder=""
                                   style="text-align: right"
                                   class="form-control input-sm"
                                   value="">
                        </td>
                        <td>
                            <input type="text"
                                   ng-model="memo.field_3"
                                   placeholder=""
                                   style="text-align: right"
                                   class="form-control input-sm"
                                   value="">
                        </td>
                        <td>
                            <input type="text"
                                   ng-model="memo.field_4"
                                   placeholder=""
                                   style="text-align: right"
                                   class="form-control input-sm"
                                   value="">
                        </td>
                        <td>
                            <input type="text"
                                   ng-model="memo.field_5"
                                   placeholder=""
                                   style="text-align: right"
                                   class="form-control input-sm"
                                   value="">
                        </td>
                        <td>
                            <input type="text"
                                   ng-model="memo.field_6"
                                   placeholder=""
                                   style="text-align: right"
                                   class="form-control input-sm"
                                   value="">
                        </td>
                        <td>
                            <input type="text"
                                   ng-model="memo.field_7"
                                   placeholder=""
                                   style="text-align: right"
                                   class="form-control input-sm"
                                   value="">
                        </td>
                        <td>
                            <input type="text"
                                   ng-model="memo.field_8"
                                   placeholder=""
                                   style="text-align: right"
                                   class="form-control input-sm"
                                   value="">
                        </td>
                    </tr>
            </tbody>
        </table>
        <!--<div style="margin-top: 10px" ng-if="isDepG">-->
        <div style="margin-top: 10px" ng-if="true">
            <button type="button"
                    ng-click="insertContractMemo(contract)"
                    class="btn btn-info btn-icon">
                <i class="ion-plus-round"/>
            </button>
        </div>
        <!--<div style="margin-top: 10px" ng-if="isDepG">-->
        <div style="margin-top: 10px" ng-if="true">
            <button ng-click="updateContract(contract)"
                    style="float: left; padding: 0 30px; line-height: 4"
                    id="btnReview"
                    pb-style="shrink"
                    class="btn btn-primary">
                <span>
                    儲存
                </span>
            </button>
        </div>

    </uib-accordion-group>
</uib-accordion>